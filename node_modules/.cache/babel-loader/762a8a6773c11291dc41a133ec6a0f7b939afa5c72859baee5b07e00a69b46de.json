{"ast":null,"code":"import{GET_CART_INFO,GET_ALL_ITEM_IN_CART,GET_ALL_ITEM_IN_CART_SELECTED}from'../constants/constants';import{API_URL}from'../constants/constants';import axiosClient from'actions/constants/axiosClient';// import axios from 'axios'\n// const token = localStorage.getItem('token');\n// const headers = { Authorization: `Bearer ${token}` }\n// get thông tin chi tiết giỏ hàng\nexport var getDetailCart=function getDetailCart(){return function(dispatch){axiosClient({method:'GET',url:\"\".concat(API_URL,\"/api/carts/mine/items\")// headers: headers,\n}).then(function(res){getCartInfo();dispatch({type:GET_ALL_ITEM_IN_CART,payload:res});}).catch(function(err){return console.log(err);});};};// get thông tin giỏ hàng (số lượng sản phẩm, status, số lượng item)\nexport var getCartInfo=function getCartInfo(){return function(dispatch){axiosClient({method:'GET',url:\"\".concat(API_URL,\"/api/carts/mine/info\")// headers: headers,\n}).then(function(res){dispatch({type:GET_CART_INFO,payload:res});}).catch(function(err){return console.log(err);});};};// thêm sản phẩm vào giỏ hàng\nexport var addProductToCart=function addProductToCart(data){return axiosClient({method:\"POST\",// headers: headers,\nurl:\"\".concat(API_URL,\"/api/carts/mine/items\"),data:data});};// sửa số lượng sản phẩm trong giỏ hàng\nexport var updateQuantityItem=function updateQuantityItem(data){return axiosClient({method:\"PUT\",// headers: headers,\nurl:\"\".concat(API_URL,\"/api/carts/mine/items/update\"),data:data});};// xoá sản phẩm trong giỏ hàng\nexport var deleteItemInCart=function deleteItemInCart(data){return axiosClient({method:\"DELETE\",// headers: headers,\nurl:\"\".concat(API_URL,\"/api/carts/mine/items/remove?product_id=\").concat(data),data:data});};// kiểm tra số lượng trước khi đặt hàng\nexport var checkQuantityItemInCart=function checkQuantityItemInCart(data){return axiosClient({method:'POST',url:\"\".concat(API_URL,\"/api/carts/mine/items/check_quantity\"),data:data// headers: headers,\n});};// chọn sản phẩm trong giỏ để đặt hàng\nexport var selectedItemToOrder=function selectedItemToOrder(data){return axiosClient({method:'POST',url:\"\".concat(API_URL,\"/api/carts/mine/items/selected\"),params:{product_id:data}// headers: headers,\n});};// lấy danh sách giỏ hàng đã chọn sản phẩm để đặt hàng\nexport var getDetailCartSelected=function getDetailCartSelected(data){return function(dispatch){axiosClient({method:'GET',url:\"\".concat(API_URL,\"/api/carts/mine/items/selected\"),data:data// headers: headers,\n})// .then((res) => {\n//     console.log(res.data);\n//     getCartInfo();\n//     dispatch({\n//         type: GET_ALL_ITEM_IN_CART_SELECTED,\n//         payload: res\n//     })\n// })\n// .catch(err => console.log(err))\n.then(function(res){getCartInfo();dispatch({type:GET_ALL_ITEM_IN_CART_SELECTED,payload:res});console.log(res.data);}).catch(function(err){return console.log(err);});};};export var completeCart=function completeCart(){return axiosClient({method:\"DELETE\",// headers: headers,\nurl:\"\".concat(API_URL,\"/api/carts/mine/items/remove_all\")});};","map":{"version":3,"names":["GET_CART_INFO","GET_ALL_ITEM_IN_CART","GET_ALL_ITEM_IN_CART_SELECTED","API_URL","axiosClient","getDetailCart","dispatch","method","url","concat","then","res","getCartInfo","type","payload","catch","err","console","log","addProductToCart","data","updateQuantityItem","deleteItemInCart","checkQuantityItemInCart","selectedItemToOrder","params","product_id","getDetailCartSelected","completeCart"],"sources":["D:/TutuFinal/tutuClient/src/actions/services/CartActions.js"],"sourcesContent":["import {\r\n    GET_CART_INFO,\r\n    GET_ALL_ITEM_IN_CART,\r\n    GET_ALL_ITEM_IN_CART_SELECTED\r\n} from '../constants/constants'\r\nimport {\r\n    API_URL\r\n} from '../constants/constants'\r\nimport axiosClient from 'actions/constants/axiosClient';\r\n// import axios from 'axios'\r\n// const token = localStorage.getItem('token');\r\n// const headers = { Authorization: `Bearer ${token}` }\r\n\r\n\r\n// get thông tin chi tiết giỏ hàng\r\nexport const getDetailCart = () => {\r\n    return dispatch => {\r\n        axiosClient({\r\n            method: 'GET',\r\n            url: `${API_URL}/api/carts/mine/items`,\r\n            // headers: headers,\r\n        })\r\n            .then((res) => {\r\n                getCartInfo();\r\n                dispatch({\r\n                    type: GET_ALL_ITEM_IN_CART,\r\n                    payload: res\r\n                })\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\n\r\n// get thông tin giỏ hàng (số lượng sản phẩm, status, số lượng item)\r\nexport const getCartInfo = () => {\r\n    return dispatch => {\r\n        axiosClient({\r\n            method: 'GET',\r\n            url: `${API_URL}/api/carts/mine/info`,\r\n            // headers: headers,\r\n        })\r\n            .then((res) => {\r\n                dispatch({\r\n                    type: GET_CART_INFO,\r\n                    payload: res\r\n                })\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\n\r\n// thêm sản phẩm vào giỏ hàng\r\nexport const addProductToCart = (data) => {\r\n    return axiosClient({\r\n        method: \"POST\",\r\n        // headers: headers,\r\n        url: `${API_URL}/api/carts/mine/items`,\r\n        data: data,\r\n    })\r\n}\r\n\r\n\r\n// sửa số lượng sản phẩm trong giỏ hàng\r\nexport const updateQuantityItem = (data) => {\r\n    return axiosClient({\r\n        method: \"PUT\",\r\n        // headers: headers,\r\n        url: `${API_URL}/api/carts/mine/items/update`,\r\n        data: data,\r\n    })\r\n}\r\n\r\n// xoá sản phẩm trong giỏ hàng\r\nexport const deleteItemInCart = (data) => {\r\n    return axiosClient({\r\n        method: \"DELETE\",\r\n        // headers: headers,\r\n        url: `${API_URL}/api/carts/mine/items/remove?product_id=${data}`,\r\n        data: data,\r\n    })\r\n}\r\n\r\n// kiểm tra số lượng trước khi đặt hàng\r\nexport const checkQuantityItemInCart = (data) => {\r\n    return axiosClient({\r\n        method: 'POST',\r\n        url: `${API_URL}/api/carts/mine/items/check_quantity`,\r\n        data: data,\r\n        // headers: headers,\r\n    })\r\n}\r\n\r\n// chọn sản phẩm trong giỏ để đặt hàng\r\nexport const selectedItemToOrder = (data) => {\r\n    return axiosClient({\r\n        method: 'POST',\r\n        url: `${API_URL}/api/carts/mine/items/selected`,\r\n        params: {product_id: data}\r\n        // headers: headers,\r\n    })\r\n}\r\n\r\n// lấy danh sách giỏ hàng đã chọn sản phẩm để đặt hàng\r\nexport const getDetailCartSelected = (data) => {\r\n    return dispatch => {\r\n        axiosClient({\r\n            method: 'GET',\r\n            url: `${API_URL}/api/carts/mine/items/selected`,\r\n            data: data \r\n            // headers: headers,\r\n        })\r\n            // .then((res) => {\r\n            //     console.log(res.data);\r\n            //     getCartInfo();\r\n            //     dispatch({\r\n            //         type: GET_ALL_ITEM_IN_CART_SELECTED,\r\n            //         payload: res\r\n            //     })\r\n            // })\r\n            // .catch(err => console.log(err))\r\n            .then((res) => {\r\n               \r\n                getCartInfo();\r\n                dispatch({\r\n                    type: GET_ALL_ITEM_IN_CART_SELECTED,\r\n                    payload: res\r\n                })\r\n                console.log(res.data);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const completeCart = () => {\r\n    return axiosClient({\r\n        method: \"DELETE\",\r\n        // headers: headers,\r\n        url: `${API_URL}/api/carts/mine/items/remove_all`,\r\n    })\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}