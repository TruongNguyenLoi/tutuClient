{"ast":null,"code":"import _regeneratorRuntime from\"D:/TutuFinal/tutuClient/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/TutuFinal/tutuClient/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';import{API_URL}from'./constants';// import queryString from 'query-string'\nvar axiosClient=axios.create({baseURL:\"\".concat(API_URL),headers:{'content-type':'application/json'}// paramsSerializer: params => queryString.stringify(params)\n});axiosClient.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(config){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return _context.abrupt(\"return\",config);case 3:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());axiosClient.interceptors.response.use(function(response){if(response&&response.data){return response.data;}return response;},function(error){if(error){console.log(error);}console.log(error);// throw err;\n});export default axiosClient;","map":{"version":3,"names":["axios","API_URL","axiosClient","create","baseURL","concat","headers","interceptors","request","use","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","token","wrap","_callee$","_context","prev","next","localStorage","getItem","Authorization","abrupt","stop","_x","apply","arguments","response","data","error","console","log"],"sources":["D:/TutuFinal/tutuClient/src/actions/constants/axiosClient.js"],"sourcesContent":["import axios from 'axios'\r\nimport { API_URL } from './constants'\r\n// import queryString from 'query-string'\r\nconst axiosClient = axios.create({\r\n    baseURL: `${API_URL}`,\r\n    headers: {\r\n        'content-type': 'application/json'\r\n    },\r\n    // paramsSerializer: params => queryString.stringify(params)\r\n})\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if(token) {\r\n        config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n    return config;\r\n})\r\n\r\naxiosClient.interceptors.response.use(response => {\r\n    if(response && response.data) {\r\n        return response.data;\r\n    }\r\n    return response;\r\n}, (error) => {\r\n    if(error) {\r\n        console.log(error);\r\n    }\r\n    console.log(error);\r\n    // throw err;\r\n})\r\n\r\nexport default axiosClient;"],"mappings":"0OAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,aAAa,CACrC;AACA,GAAM,CAAAC,WAAW,CAAGF,KAAK,CAACG,MAAM,CAAC,CAC7BC,OAAO,IAAAC,MAAA,CAAKJ,OAAO,CAAE,CACrBK,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACA;AACJ,CAAC,CAAC,CAEFJ,WAAW,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,MAAM,MAAAC,KAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxCL,KAAK,CAAGM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAGP,KAAK,CAAE,CACND,MAAM,CAACT,OAAO,CAACkB,aAAa,WAAAnB,MAAA,CAAaW,KAAK,CAAE,CACpD,CAAC,OAAAG,QAAA,CAAAM,MAAA,UACMV,MAAM,0BAAAI,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GAChB,mBAAAa,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,QAAC,CAEF3B,WAAW,CAACK,YAAY,CAACuB,QAAQ,CAACrB,GAAG,CAAC,SAAAqB,QAAQ,CAAI,CAC9C,GAAGA,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAE,CAC1B,MAAO,CAAAD,QAAQ,CAACC,IAAI,CACxB,CACA,MAAO,CAAAD,QAAQ,CACnB,CAAC,CAAE,SAACE,KAAK,CAAK,CACV,GAAGA,KAAK,CAAE,CACNC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACtB,CACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClB;AACJ,CAAC,CAAC,CAEF,cAAe,CAAA9B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}