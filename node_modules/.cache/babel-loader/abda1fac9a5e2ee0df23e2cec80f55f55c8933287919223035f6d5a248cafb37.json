{"ast":null,"code":"import _slicedToArray from\"D:/TutuFinal/tutuClient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Dialog,makeStyles}from'@material-ui/core';import{addComment}from'actions/services/CommentServices';import React,{useState}from'react';import ReactStars from\"react-rating-stars-component\";import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{formControl:{minWidth:600,overflow:'hidden',maxHeight:'100vh'},input:{display:'none'},button:{padding:'12px 24px',fontWeight:600,fontSize:'1.3rem',marginRight:15},textInput:{fontSize:'1.3rem',overflow:'hidden'},title:{textAlign:'center',fontSize:24},padding:{paddingLeft:30,paddingRight:30,paddingBottom:20,paddingTop:10,display:'flex',alignItems:'center',justifyContent:'center',fontSize:13}};});export default function CustomerReviewForm(props){var onClose=props.onClose,open=props.open,product=props.product,user=props.user;var classes=useStyles();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),rating=_useState2[0],setRating=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var handleChange=function handleChange(e){var value=e.target.value;setContent(value);};var handleCloseForm=function handleCloseForm(){onClose();};var handleSubmit=function handleSubmit(e){e.preventDefault();var now=new Date();var create_time=now.getDate()+\"/\"+(now.getMonth()+1)+\"/\"+now.getFullYear();var data={rating:rating,content:content,productId:product===null||product===void 0?void 0:product.product_id,displayName:user,date_comment:create_time};addComment(data).then(function(res){toast.info(res.data.message,{position:\"bottom-center\",theme:'dark',autoClose:2500,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});handleCloseForm();}).catch(function(){toast.error('Bình luận sản phẩm không thành công!',{position:\"bottom-center\",theme:'dark',autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});});};var ratingChanged=function ratingChanged(newRating){setRating(newRating);};return/*#__PURE__*/_jsx(Dialog,{onClose:onClose,open:open,className:classes.formControl,children:/*#__PURE__*/_jsxs(\"div\",{className:\"iwgwUj write-review\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"write-review__close\",onClick:handleCloseForm,children:/*#__PURE__*/_jsx(\"img\",{src:\"https://salt.tikicdn.com/ts/upload/9b/80/20/6d09a37c46316cbdaf5024c6520c9801.jpg\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"write-review__inner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"write-review__product\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.mainImage,alt:\"\",className:\"write-review__product-img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"write-review__product-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"write-review__product-name\",children:product===null||product===void 0?void 0:product.product_name}),/*#__PURE__*/_jsx(\"div\",{className:\"write-review__product-seller\",children:'ABC'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"write-review__heading\",children:\"Vui l\\xF2ng \\u0111\\xE1nh gi\\xE1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"write-review__stars\",children:/*#__PURE__*/_jsx(ReactStars,{count:5,onChange:ratingChanged,size:50,activeColor:\"#ffd700\"})}),/*#__PURE__*/_jsx(\"textarea\",{rows:8,placeholder:\"Chia s\\u1EBB th\\xEAm th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\",className:\"write-review__input\",defaultValue:\"\",onChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"write-review__buttons\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"write-review__button write-review__button--submit\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(\"span\",{children:\"G\\u1EEDi \\u0111\\xE1nh gi\\xE1\"})})})]})]})});}","map":{"version":3,"names":["Dialog","makeStyles","addComment","React","useState","ReactStars","toast","jsx","_jsx","jsxs","_jsxs","useStyles","theme","formControl","minWidth","overflow","maxHeight","input","display","button","padding","fontWeight","fontSize","marginRight","textInput","title","textAlign","paddingLeft","paddingRight","paddingBottom","paddingTop","alignItems","justifyContent","CustomerReviewForm","props","onClose","open","product","user","classes","_useState","_useState2","_slicedToArray","rating","setRating","_useState3","_useState4","content","setContent","handleChange","e","value","target","handleCloseForm","handleSubmit","preventDefault","now","Date","create_time","getDate","getMonth","getFullYear","data","productId","product_id","displayName","date_comment","then","res","info","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","error","ratingChanged","newRating","className","children","onClick","src","alt","mainImage","product_name","count","onChange","size","activeColor","rows","placeholder","defaultValue","type"],"sources":["D:/TutuFinal/tutuClient/src/components/form/CustomerReviewForm.js"],"sourcesContent":["import { Dialog, makeStyles } from '@material-ui/core';\r\nimport { addComment } from 'actions/services/CommentServices';\r\nimport React, { useState } from 'react'\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport { toast } from 'react-toastify';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        minWidth: 600,\r\n        overflow: 'hidden',\r\n        maxHeight: '100vh'\r\n    },\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    button: {\r\n        padding: '12px 24px',\r\n        fontWeight: 600,\r\n        fontSize: '1.3rem',\r\n        marginRight: 15\r\n    },\r\n    textInput: {\r\n        fontSize: '1.3rem',\r\n        overflow: 'hidden'\r\n    },\r\n    title: {\r\n        textAlign: 'center',\r\n        fontSize: 24,\r\n    },\r\n    padding: {\r\n        paddingLeft: 30,\r\n        paddingRight: 30,\r\n        paddingBottom: 20,\r\n        paddingTop: 10,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontSize: 13\r\n    }\r\n}))\r\n\r\nexport default function CustomerReviewForm(props) {\r\n\r\n    const { onClose, open, product, user } = props;\r\n    const classes = useStyles();\r\n\r\n    const [rating, setRating] = useState(0);\r\n    const [content, setContent] = useState('');\r\n\r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setContent(value)\r\n    };\r\n\r\n    const handleCloseForm = () => {\r\n        onClose();\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const now = new Date();\r\n        const create_time = now.getDate() + \"/\" + (now.getMonth() + 1) + \"/\" + now.getFullYear();\r\n        const data = {\r\n            rating: rating,\r\n            content: content,\r\n            productId: product?.product_id,\r\n            displayName: user,\r\n            date_comment: create_time\r\n        }\r\n        addComment(data)\r\n            .then((res) => {\r\n                toast.info(res.data.message, {\r\n                    position: \"bottom-center\",\r\n                    theme: 'dark',\r\n                    autoClose: 2500,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n                handleCloseForm();\r\n            })\r\n            .catch(() => {\r\n                toast.error('Bình luận sản phẩm không thành công!', {\r\n                    position: \"bottom-center\",\r\n                    theme: 'dark',\r\n                    autoClose: 2000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                });\r\n            })\r\n    }\r\n\r\n    const ratingChanged = (newRating) => {\r\n        setRating(newRating)\r\n    };\r\n\r\n    return (\r\n        <Dialog onClose={onClose} open={open} className={classes.formControl}>\r\n            <div className=\"iwgwUj write-review\">\r\n                <div className=\"write-review__close\" onClick={handleCloseForm}>\r\n                    <img src=\"https://salt.tikicdn.com/ts/upload/9b/80/20/6d09a37c46316cbdaf5024c6520c9801.jpg\" alt=\"\" />\r\n                </div>\r\n                <form className=\"write-review__inner\">\r\n                    <div className=\"write-review__product\">\r\n                        <img src={product.mainImage} alt=\"\" className=\"write-review__product-img\" />\r\n                        <div className=\"write-review__product-wrap\">\r\n                            <div className=\"write-review__product-name\">{product?.product_name}</div>\r\n                            <div className=\"write-review__product-seller\">{'ABC'}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"write-review__heading\">Vui lòng đánh giá</div>\r\n                    <div className=\"write-review__stars\">\r\n                        <ReactStars\r\n                            count={5}\r\n                            onChange={ratingChanged}\r\n                            size={50}\r\n                            activeColor=\"#ffd700\"\r\n                        />\r\n                    </div>\r\n                    <textarea rows={8} placeholder=\"Chia sẻ thêm thông tin sản phẩm\" className=\"write-review__input\" defaultValue={\"\"} onChange={handleChange} />\r\n                    <div className=\"write-review__buttons\">\r\n                        <button type=\"submit\" className=\"write-review__button write-review__button--submit\" onClick={handleSubmit}>\r\n                            <span>Gửi đánh giá</span>\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </Dialog>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}