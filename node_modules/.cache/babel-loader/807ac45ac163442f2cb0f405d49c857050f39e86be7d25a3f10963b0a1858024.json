{"ast":null,"code":"import _slicedToArray from\"D:/TutuFinal/tutuClient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback}from'react';import{useEffect}from'react';import{useState}from'react';import Product from'components/Item/Product';import Pagination from'components/Pagination/Pagination';import{getAllProductByBrandCode,getBrandByCode}from'actions/services/ProductServices';import useTimeout from'hooks/useTimeout';import ProductSkeleton from'components/Item/ProductSkeleton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ListProductBrand(props){var match=props.match;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),totalElements=_useState4[0],setTotalElements=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),brand=_useState6[0],setBrand=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var params=new URLSearchParams(window.location.search);var page=params.get('page');var getData=useCallback(function(){var params=new URLSearchParams(window.location.search);var page=params.get('page');var sortBy=params.get('sortBy');var sortValue=params.get('sortValue');var keyword=params.get('keyword');var searchObject={};searchObject.keyword=keyword?keyword:'';searchObject.page=page?parseInt(page):0;var brandCode=match.params.brand?match.params.brand:'';searchObject.brandCode=brandCode;searchObject.sortBy=sortBy?sortBy:'';searchObject.sortValue=sortValue?sortValue:'';getAllProductByBrandCode(searchObject).then(function(res){setProducts(res.data.content);setTotalElements(res.data.totalElements);}).catch(function(err){return console.log(err);});},[match.params.brand]);useEffect(function(){document.title=\"Thương hiệu sản phẩm | Tiki\";getData();var brand=match.params.brand?match.params.brand:'';getBrandByCode(brand).then(function(res){return setBrand(res.data);}).catch(function(){return alert(\"ERR\");});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[getData]);useTimeout(function(){return setLoading(false);},loading?1000:null);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row sm-gutter section__content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col l-12 m-12 c-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row sm-gutter section__item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col l-12 m-12 c-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-product-category-item\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"home-product-title\",children:[\"Th\\u01B0\\u01A1ng hi\\u1EC7u s\\u1EA3n ph\\u1EA9m:\",/*#__PURE__*/_jsx(\"span\",{className:\"home-product-subtitle\",children:brand===null||brand===void 0?void 0:brand.name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"home-product-category-item\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"home-product-title\",children:[\"T\\u1EA5t c\\u1EA3 s\\u1EA3n ph\\u1EA9m:\",/*#__PURE__*/_jsxs(\"span\",{className:\"home-product-subtitle\",children:[totalElements,\" k\\u1EBFt qu\\u1EA3\"]})]})})]}),loading?/*#__PURE__*/_jsx(ProductSkeleton,{total:totalElements}):/*#__PURE__*/_jsx(Product,{products:products})]})}),/*#__PURE__*/_jsx(Pagination,{totalRows:totalElements,page:page?page:0,limit:20})]})})});}export default ListProductBrand;","map":{"version":3,"names":["React","useCallback","useEffect","useState","Product","Pagination","getAllProductByBrandCode","getBrandByCode","useTimeout","ProductSkeleton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListProductBrand","props","match","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","totalElements","setTotalElements","_useState5","_useState6","brand","setBrand","_useState7","_useState8","loading","setLoading","params","URLSearchParams","window","location","search","page","get","getData","sortBy","sortValue","keyword","searchObject","parseInt","brandCode","then","res","data","content","catch","err","console","log","document","title","alert","children","className","name","total","totalRows","limit"],"sources":["D:/TutuFinal/tutuClient/src/pages/ListProductBrand.js"],"sourcesContent":["import React, { useCallback } from 'react'\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport Product from 'components/Item/Product';\r\nimport Pagination from 'components/Pagination/Pagination';\r\nimport { getAllProductByBrandCode, getBrandByCode } from 'actions/services/ProductServices'\r\nimport useTimeout from 'hooks/useTimeout';\r\nimport ProductSkeleton from 'components/Item/ProductSkeleton';\r\n\r\nfunction ListProductBrand(props) {\r\n    const { match } = props;\r\n    const [products, setProducts] = useState([]);\r\n    const [totalElements, setTotalElements] = useState([]);\r\n    const [brand, setBrand] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const params = new URLSearchParams(window.location.search)\r\n    const page = params.get('page');\r\n\r\n    const getData = useCallback(() => {\r\n        const params = new URLSearchParams(window.location.search)\r\n        const page = params.get('page');\r\n        const sortBy = params.get('sortBy');\r\n        const sortValue = params.get('sortValue');\r\n        const keyword = params.get('keyword');\r\n        let searchObject = {};\r\n        searchObject.keyword = keyword ? keyword : '';\r\n        searchObject.page = page ? parseInt(page) : 0;\r\n        const brandCode = match.params.brand ? match.params.brand : '';\r\n        searchObject.brandCode = brandCode;\r\n        searchObject.sortBy = sortBy ? sortBy : '';\r\n        searchObject.sortValue = sortValue ? sortValue : '';\r\n\r\n        getAllProductByBrandCode(searchObject)\r\n            .then((res) => {\r\n                setProducts(res.data.content);\r\n                setTotalElements(res.data.totalElements)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [match.params.brand])\r\n\r\n    useEffect(() => {\r\n        \r\n\r\n        document.title = \"Thương hiệu sản phẩm | Tiki\"\r\n\r\n        getData();\r\n\r\n        const brand = match.params.brand ? match.params.brand : '';\r\n        getBrandByCode(brand) \r\n            .then((res => setBrand(res.data)))\r\n            .catch(() => alert(\"ERR\"))\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [getData])\r\n\r\n\r\n    useTimeout(() => setLoading(false), loading ? 1000 : null);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"row sm-gutter section__content\">\r\n                <div className=\"col l-12 m-12 c-12\">\r\n                    <div className=\"home-product\">\r\n                        <div className=\"row sm-gutter section__item\">\r\n                            <div className=\"col l-12 m-12 c-12\">\r\n                                <div className=\"home-product-category-item\">\r\n                                    <h3 className=\"home-product-title\">\r\n                                        Thương hiệu sản phẩm:\r\n                                        <span className=\"home-product-subtitle\">\r\n                                            {brand?.name}\r\n                                        </span>\r\n                                    </h3>\r\n                                </div>\r\n                                <div className=\"home-product-category-item\">\r\n                                    <h3 className=\"home-product-title\">\r\n                                        Tất cả sản phẩm:\r\n                                        <span className=\"home-product-subtitle\">\r\n                                            {totalElements} kết quả\r\n                                        </span>\r\n                                    </h3>\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                loading ? <ProductSkeleton total={totalElements} /> : <Product products={products} />\r\n                            }\r\n                        </div>\r\n\r\n                    </div>\r\n                    <Pagination totalRows={totalElements} page={page ? page : 0} limit={20} />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ListProductBrand;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}