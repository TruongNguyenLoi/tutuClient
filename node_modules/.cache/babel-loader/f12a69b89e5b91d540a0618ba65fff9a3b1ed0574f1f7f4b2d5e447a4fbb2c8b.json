{"ast":null,"code":"import _slicedToArray from\"D:/TutuFinal/tutuClient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import AccountNavbar from'components/AccountNavbar/AccountNavbar.';import{getAllOrderByUser}from'actions/services/OrderActions';import{currency}from'utils/FormatCurrency';import useTimeout from'hooks/useTimeout';import Loading from'components/Loading/Loading';import{getUserLogin}from'actions/services/UserActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HistoryOrder(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({id:'',fullName:'',username:''}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var getUser=function getUser(){getUserLogin().then(function(res){setUser(res.data);}).catch(function(err){return console.log(err);});};useEffect(function(){document.title=\"Đơn hàng của tôi | Tiki\";getUser();getAllOrderByUser().then(function(res){setOrders(res);}).catch(function(err){console.log(err);});},[]);useTimeout(function(){return setLoading(false);},loading?500:null);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row sm-gutter section__content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col l-12 m-12 c-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"home-product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row sm-gutter section__item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col l-2-4 m-3 c-3\",children:/*#__PURE__*/_jsx(AccountNavbar,{name:user===null||user===void 0?void 0:user.fullName})}),/*#__PURE__*/_jsx(\"div\",{className:\"col l-9-4 m-9 c-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"list-cusomer-order\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",children:\"Danh s\\xE1ch \\u0111\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"}),loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"table\",{className:\"list__order-info\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y mua\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1ED5ng ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i \\u0111\\u01A1n h\\xE0ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/customer/order/history/detail/\".concat(item.id),className:\"info-cusomer-order-link\",children:item.id})}),/*#__PURE__*/_jsx(\"td\",{children:item.createdDate}),/*#__PURE__*/_jsx(\"td\",{children:item.description}),/*#__PURE__*/_jsx(\"td\",{children:currency(item.total_price+item.ship_fee)}),/*#__PURE__*/_jsx(\"td\",{children:item.status_order_name})]},item.id);})})]})]})})]})})})})});}","map":{"version":3,"names":["React","useEffect","useState","Link","AccountNavbar","getAllOrderByUser","currency","useTimeout","Loading","getUserLogin","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HistoryOrder","props","_useState","_useState2","_slicedToArray","orders","setOrders","_useState3","_useState4","loading","setLoading","_useState5","id","fullName","username","_useState6","user","setUser","getUser","then","res","data","catch","err","console","log","document","title","children","className","name","map","item","to","concat","createdDate","description","total_price","ship_fee","status_order_name"],"sources":["D:/TutuFinal/tutuClient/src/pages/HistoryOrder.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport AccountNavbar from 'components/AccountNavbar/AccountNavbar.';\r\nimport { getAllOrderByUser } from 'actions/services/OrderActions'\r\nimport { currency } from 'utils/FormatCurrency'\r\nimport useTimeout from 'hooks/useTimeout';\r\nimport Loading from 'components/Loading/Loading';\r\nimport { getUserLogin } from 'actions/services/UserActions';\r\n\r\nexport default function HistoryOrder(props) {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [user, setUser] = useState({\r\n        id: '',\r\n        fullName: '',\r\n        username: '',\r\n    })\r\n\r\n    const getUser = () => {\r\n        getUserLogin()\r\n            .then(res => {\r\n                setUser(res.data);\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n    useEffect(() => {\r\n\r\n        document.title = \"Đơn hàng của tôi | Tiki\"\r\n\r\n        getUser();\r\n\r\n        getAllOrderByUser()\r\n            .then((res) => {\r\n                setOrders(res);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }, [])\r\n\r\n    useTimeout(() => setLoading(false), loading ? 500 : null);\r\n    return (\r\n        <>\r\n            <div className=\"row sm-gutter section__content\">\r\n                <div className=\"col l-12 m-12 c-12\">\r\n                    <div className=\"home-product\">\r\n                        <div className=\"row sm-gutter section__item\">\r\n                            <div className=\"col l-2-4 m-3 c-3\">\r\n                                <AccountNavbar name={user?.fullName} />\r\n                            </div>\r\n                            <div className=\"col l-9-4 m-9 c-9\">\r\n                                <div className=\"list-cusomer-order\">\r\n                                    <div className=\"heading\">Danh sách đơn hàng của tôi</div>\r\n                                    {\r\n                                        loading ? <Loading /> : (\r\n                                            <table className=\"list__order-info\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>Mã đơn hàng</th>\r\n                                                        <th>Ngày mua</th>\r\n                                                        <th>Sản phẩm</th>\r\n                                                        <th>Tổng tiền</th>\r\n                                                        <th>Trạng thái đơn hàng</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {\r\n                                                        orders.map(item => {\r\n                                                            return (\r\n                                                                <tr key={item.id}>\r\n                                                                    <td>\r\n                                                                        <Link to={`/customer/order/history/detail/${item.id}`} className=\"info-cusomer-order-link\">\r\n                                                                            {item.id}\r\n                                                                        </Link>\r\n                                                                    </td>\r\n                                                                    <td>{item.createdDate}</td>\r\n                                                                    <td>{item.description}</td>\r\n                                                                    <td>{currency(item.total_price + item.ship_fee)}</td>\r\n                                                                    <td>{item.status_order_name}</td>\r\n                                                                </tr>\r\n                                                            )\r\n                                                        })\r\n                                                    }\r\n                                                </tbody>\r\n                                            </table>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}