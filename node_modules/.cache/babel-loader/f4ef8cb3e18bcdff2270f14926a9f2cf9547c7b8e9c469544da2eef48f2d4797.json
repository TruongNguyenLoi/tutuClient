{"ast":null,"code":"var _jsxFileName = \"D:\\\\TutuFinal\\\\tutuClient\\\\src\\\\pages\\\\ListProductPage.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport Filter from \"components/Filter/Filter\";\nimport Title from \"components/Filter/Title\";\nimport Product from \"components/Item/Product\";\nimport Pagination from \"components/Pagination/Pagination\";\nimport { getProductListByCategoryAndSubcategory, getProductList } from \"actions/services/ProductServices\";\nimport useTimeout from \"hooks/useTimeout\";\nimport ProductSkeleton from \"components/Item/ProductSkeleton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ListProductPage(props) {\n  _s();\n  const {\n    match\n  } = props;\n  const [products, setProducts] = useState([]);\n  const [totalElements, setTotalElements] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const params = new URLSearchParams(window.location.search);\n  const page = params.get(\"page\");\n  const sortBy = params.get(\"sort_by\") ? params.get(\"sort_by\") : \"\";\n  const sortValue = params.get(\"sort_value\") ? params.get(\"sort_value\") : \"\";\n  const keyword = params.get(\"keyword\") ? params.get(\"keyword\") : \"\";\n  const price = params.get(\"price\") ? params.get(\"price\") : \"\";\n  const brand = params.get(\"brand\") ? params.get(\"brand\") : \"\";\n  useEffect(() => {\n    document.title = \"Danh sách sản phẩm giá cực tốt\";\n    let searchObject = {};\n    searchObject.keyword = keyword ? keyword : \"\";\n    searchObject.page = page ? parseInt(page) : 1;\n    const category = match.params.category ? match.params.category : \"\";\n    const subcategory = match.params.subcategory ? match.params.subcategory : \"\";\n    searchObject.category = category;\n    searchObject.subcategory = subcategory;\n    searchObject.sortBy = sortBy ? sortBy : \"\";\n    searchObject.sortValue = sortValue ? sortValue : \"\";\n    searchObject.brand = brand ? brand : \"\";\n    searchObject.price = price ? price : \"\";\n    if (category !== \"\" && category) {\n      getProductListByCategoryAndSubcategory(searchObject).then(res => {\n        setProducts(res.data.content);\n        setTotalElements(res.data.totalElements);\n      }).catch(err => console.log(err));\n    } else {\n      getProductList(searchObject).then(res => {\n        setProducts(res.data.content);\n        setTotalElements(res.data.totalElements);\n      }).catch(err => console.log(err));\n    }\n  }, [page, match, brand, keyword, sortBy, sortValue, price]);\n  useTimeout(() => setLoading(false), loading ? 1000 : null);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row sm-gutter section__content \",\n      style: {\n        margin: \"var(--header-height)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        category: match.params.category,\n        history: props.history\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col l-9-4 m-12 c-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home-product\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row sm-gutter section__item\",\n            children: (products === null || products === void 0 ? void 0 : products.length) > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Title, {\n                type: match.params.category,\n                totalProducts: totalElements\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), loading ? /*#__PURE__*/_jsxDEV(ProductSkeleton, {\n                total: totalElements\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Product, {\n                products: products\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m c\\u1EA7n t\\xECm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          totalRows: totalElements,\n          page: page ? page : 1,\n          limit: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ListProductPage, \"dlirWn9rBp9D+NO+uS5eDhSldh0=\", false, function () {\n  return [useTimeout];\n});\n_c = ListProductPage;\nexport default ListProductPage;\nvar _c;\n$RefreshReg$(_c, \"ListProductPage\");","map":{"version":3,"names":["React","useEffect","useState","Filter","Title","Product","Pagination","getProductListByCategoryAndSubcategory","getProductList","useTimeout","ProductSkeleton","jsxDEV","_jsxDEV","Fragment","_Fragment","ListProductPage","props","_s","match","products","setProducts","totalElements","setTotalElements","loading","setLoading","params","URLSearchParams","window","location","search","page","get","sortBy","sortValue","keyword","price","brand","document","title","searchObject","parseInt","category","subcategory","then","res","data","content","catch","err","console","log","children","className","style","margin","history","fileName","_jsxFileName","lineNumber","columnNumber","length","type","totalProducts","total","totalRows","limit","_c","$RefreshReg$"],"sources":["D:/TutuFinal/tutuClient/src/pages/ListProductPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport Filter from \"components/Filter/Filter\";\r\nimport Title from \"components/Filter/Title\";\r\nimport Product from \"components/Item/Product\";\r\nimport Pagination from \"components/Pagination/Pagination\";\r\nimport {\r\n  getProductListByCategoryAndSubcategory,\r\n  getProductList,\r\n} from \"actions/services/ProductServices\";\r\nimport useTimeout from \"hooks/useTimeout\";\r\nimport ProductSkeleton from \"components/Item/ProductSkeleton\";\r\n\r\nfunction ListProductPage(props) {\r\n  const { match } = props;\r\n  const [products, setProducts] = useState([]);\r\n  const [totalElements, setTotalElements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const params = new URLSearchParams(window.location.search);\r\n  const page = params.get(\"page\");\r\n  const sortBy = params.get(\"sort_by\") ? params.get(\"sort_by\") : \"\";\r\n  const sortValue = params.get(\"sort_value\") ? params.get(\"sort_value\") : \"\";\r\n  const keyword = params.get(\"keyword\") ? params.get(\"keyword\") : \"\";\r\n  const price = params.get(\"price\") ? params.get(\"price\") : \"\";\r\n  const brand = params.get(\"brand\") ? params.get(\"brand\") : \"\";\r\n  useEffect(() => {\r\n    document.title = \"Danh sách sản phẩm giá cực tốt\";\r\n    let searchObject = {};\r\n    searchObject.keyword = keyword ? keyword : \"\";\r\n    searchObject.page = page ? parseInt(page) : 1;\r\n    const category = match.params.category ? match.params.category : \"\";\r\n    const subcategory = match.params.subcategory\r\n      ? match.params.subcategory\r\n      : \"\";\r\n    searchObject.category = category;\r\n    searchObject.subcategory = subcategory;\r\n    searchObject.sortBy = sortBy ? sortBy : \"\";\r\n    searchObject.sortValue = sortValue ? sortValue : \"\";\r\n    searchObject.brand = brand ? brand : \"\";\r\n    searchObject.price = price ? price : \"\";\r\n    if (category !== \"\" && category) {\r\n      getProductListByCategoryAndSubcategory(searchObject)\r\n        .then((res) => {\r\n          setProducts(res.data.content);\r\n          setTotalElements(res.data.totalElements);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      getProductList(searchObject)\r\n        .then((res) => {\r\n          setProducts(res.data.content);\r\n          setTotalElements(res.data.totalElements);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [page, match, brand, keyword, sortBy, sortValue, price]);\r\n\r\n  useTimeout(() => setLoading(false), loading ? 1000 : null);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"row sm-gutter section__content \"\r\n        style={{ margin: \"var(--header-height)\" }}\r\n      >\r\n        <Filter category={match.params.category} history={props.history} />\r\n        <div className=\"col l-9-4 m-12 c-12\">\r\n          <div className=\"home-product\">\r\n            <div className=\"row sm-gutter section__item\">\r\n              {products?.length > 0 ? (\r\n                <>\r\n                  <Title\r\n                    type={match.params.category}\r\n                    totalProducts={totalElements}\r\n                  />\r\n                  {loading ? (\r\n                    <ProductSkeleton total={totalElements} />\r\n                  ) : (\r\n                    <Product products={products} />\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <p>Không tìm thấy sản phẩm cần tìm</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Pagination\r\n            totalRows={totalElements}\r\n            page={page ? page : 1}\r\n            limit={20}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListProductPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}